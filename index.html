// ============================
        // NEWS SYSTEM FUNCTIONALITY
        // ============================

        // Load latest news for homepage
        async function loadLatestNews() {
            try {
                const response = await fetch('/api/news/latest');
                if (!response.ok) {
                    throw new Error('Failed to fetch news');
                }
                const data = await response.json();

                const container = document.getElementById('latest-news-container');
                if (data.news && data.news.length > 0) {
                    container.innerHTML = data.news.map(news => `
                        <div class="news-card">
                            <img src="${news.image || '/placeholder-news.jpg'}" alt="${news.title}" class="news-image" onerror="this.src='/placeholder-news.jpg'">
                            <div class="news-content">
                                <h3 class="news-title">${news.title}</h3>
                                <p class="news-summary">${news.summary}</p>
                                <div class="news-meta">
                                    <span class="news-date">${formatDate(news.date)}</span>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p>No news available at the moment.</p>';
                }
            } catch (error) {
                console.error('Error loading latest news:', error);
                // Fallback to static data if API fails
                loadStaticLatestNews();
            }
        }

        // Fallback static data (same as before)
        function loadStaticLatestNews() {
            const staticNews = [
                {
                    title: "End-of-Term Exams Begin Monday for S.1, S.2, S.3 & S.5",
                    summary: "Next week marks the start of the End-of-Term Examinations for students in S.1, S.2, S.3, and S.5. The exams will run from Monday, under strict invigilation.",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765346644/exams_ptspgl.jpg",
                    date: "2024-12-20"
                },
                {
                    title: "Capacity Building Workshop 2025",
                    summary: "The Capacity Building Workshop 2025 at Mbarara Army Boarding Secondary School was held on 24th October 2025 under the theme 'Promoting Academic Excellence for Holistic Growth.'",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765345625/workshop_tubika.jpg",
                    date: "2024-12-18"
                },
                {
                    title: "Group photo of some school administrators",
                    summary: "HeadTeacher & Deputy HeadTeachers together with the JSFESC Brigadier Gen Richard Karemire. Joint Staff of Formal Education Sports & Culture (JSFESC)",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765346697/hod_vcreb7.jpg",
                    date: "2024-12-15"
                }
            ];

            const container = document.getElementById('latest-news-container');
            container.innerHTML = staticNews.map(news => `
                <div class="news-card">
                    <img src="${news.image}" alt="${news.title}" class="news-image">
                    <div class="news-content">
                        <h3 class="news-title">${news.title}</h3>
                        <p class="news-summary">${news.summary}</p>
                        <div class="news-meta">
                            <span class="news-date">${formatDate(news.date)}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Format date helper
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
=======
        // ============================
        // NEWS SYSTEM FUNCTIONALITY
        // ============================

        // Load latest news for homepage
        async function loadLatestNews() {
            try {
                const response = await fetch('/api/news/latest');
                if (!response.ok) {
                    throw new Error('Failed to fetch news');
                }
                const data = await response.json();

                const container = document.getElementById('latest-news-container');
                if (data.news && data.news.length > 0) {
                    container.innerHTML = data.news.map(news => `
                        <div class="news-card">
                            <img src="${news.image || '/placeholder-news.jpg'}" alt="${news.title}" class="news-image" onerror="this.src='/placeholder-news.jpg'">
                            <div class="news-content">
                                <h3 class="news-title">${news.title}</h3>
                                <p class="news-summary">${news.summary}</p>
                                <div class="news-meta">
                                    <span class="news-date">${formatDate(news.date)}</span>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p>No news available at the moment.</p>';
                }
            } catch (error) {
                console.error('Error loading latest news:', error);
                // Fallback to static data if API fails
                loadStaticLatestNews();
            }
        }

        // Fallback static data (same as before)
        function loadStaticLatestNews() {
            const staticNews = [
                {
                    title: "End-of-Term Exams Begin Monday for S.1, S.2, S.3 & S.5",
                    summary: "Next week marks the start of the End-of-Term Examinations for students in S.1, S.2, S.3, and S.5. The exams will run from Monday, under strict invigilation.",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765346644/exams_ptspgl.jpg",
                    date: "2024-12-20"
                },
                {
                    title: "Capacity Building Workshop 2025",
                    summary: "The Capacity Building Workshop 2025 at Mbarara Army Boarding Secondary School was held on 24th October 2025 under the theme 'Promoting Academic Excellence for Holistic Growth.'",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765345625/workshop_tubika.jpg",
                    date: "2024-12-18"
                },
                {
                    title: "Group photo of some school administrators",
                    summary: "HeadTeacher & Deputy HeadTeachers together with the JSFESC Brigadier Gen Richard Karemire. Joint Staff of Formal Education Sports & Culture (JSFESC)",
                    image: "https://res.cloudinary.com/dr7bzccrr/image/upload/v1765346697/hod_vcreb7.jpg",
                    date: "2024-12-15"
                }
            ];

            const container = document.getElementById('latest-news-container');
            container.innerHTML = staticNews.map(news => `
                <div class="news-card">
                    <img src="${news.image}" alt="${news.title}" class="news-image">
                    <div class="news-content">
                        <h3 class="news-title">${news.title}</h3>
                        <p class="news-summary">${news.summary}</p>
                        <div class="news-meta">
                            <span class="news-date">${formatDate(news.date)}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Format date helper
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
